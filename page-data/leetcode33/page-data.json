{"componentChunkName":"component---src-templates-blog-post-js","path":"/leetcode33/","result":{"data":{"site":{"siteMetadata":{"title":"Chenxiao's Blog","author":"Chenxiao Guan"}},"markdownRemark":{"id":"88e1eb05-ad4c-56ee-a26f-5125f1b50dfa","excerpt":"153算是一个33的弱化版。我们先来看一下15…","html":"<p>153算是一个33的弱化版。我们先来看一下153的题目描述：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 508px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/oddguan.io/static/47ffa6327ca1f3dacd09ebcd8bae2e90/2fd48/%E6%8F%8F%E8%BF%B0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.21621621621621%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAACDElEQVQ4y6VTa2/bMAz0//9jGzAU+zQMy2NxWjtNYsvy27Id58ZjrCxpUSzoBBxIyxRFno5BkhqEzy/YhCEWiwWWyyW22y3iKFJ/tVphvV4rQomhbdsWXOfz+R2CsTLoTQxXl0gzi8zmKKsKRvyyrGDzAsZapCZD3TRqc9l/m8ivAIPc1uXiThjGE6b55yi+DxtPJ4X3+2HA23WtsG47pLZAIbdWda3V5YV8F+VcaQbDqvJ5ryx1jzE2z6Ujq5X7pEGSpliu1ojiHeLdDs8vEX5vQmyEx9QYdF2nB5qmVZ/gxa3YRris5FLn3N+EDHB9j871aMRvOyeBnYJV8FBdN9omKenHUdq+0ONp8MmUQwazglJsUdUoZluJzfSRrLbImEqqZBxpol/LZdM03b8yeWLb5IgHfQK2++i6e2W2ZEUqhZBNTVIulMb+cNCL9ofj9aJjkih/H2nwWiEDmYTE98qnU/G62eceQfKHWTK3Vd2ugK1Fu1e87g843ZD8rxY/rJBC5oSQZD6GFa1lwmepLztKlcMFw419h0scXz6gTL4+fcePX0scpW3Dx5kTtm4Q9A+hEbCAYBBdNbNIuXGazoLpTmuPgLE8F5A7PxkU+f+ugFk5FeTCT0stfPppYQePwE+Qcvjl2xN+LlaIpdp9YnAQPR5TEbfo81McGjlINJJ8UE4mtTq7EvQoyOUfafx1X8insFEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"描述.png\"\n        title=\"描述.png\"\n        src=\"/oddguan.io/static/47ffa6327ca1f3dacd09ebcd8bae2e90/2fd48/%E6%8F%8F%E8%BF%B0.png\"\n        srcset=\"/oddguan.io/static/47ffa6327ca1f3dacd09ebcd8bae2e90/12f09/%E6%8F%8F%E8%BF%B0.png 148w,\n/oddguan.io/static/47ffa6327ca1f3dacd09ebcd8bae2e90/e4a3f/%E6%8F%8F%E8%BF%B0.png 295w,\n/oddguan.io/static/47ffa6327ca1f3dacd09ebcd8bae2e90/2fd48/%E6%8F%8F%E8%BF%B0.png 508w\"\n        sizes=\"(max-width: 508px) 100vw, 508px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>我们给定一个旋转过的排序数组，题目让我们找到这个数组中的最小值。</p>\n<p>首先最明显的一个算法就是我们从头开始遍历数组一直到尾，找到最小的即可。这样的时间复杂度是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>N</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span>，显然不是面试官想要的。那我们如何才能优化线性时间呢？线性时间复杂度的下一级当然就是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>N</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(logN)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span>了，那我们看到log时间复杂度第一想到的就是binary search。这题的条件其实也算稍微符合binary search的条件，那我们怎么才能将他运用到这道题里呢？</p>\n<p>其实很简单，我们只需要搞清楚旋转排序数组的特性，这题就迎刃而解了。给定的例子中，我们有一个数组是<code class=\"language-text\">3,4,5,1,2</code>，那我们最小的值就是1。我们可以发现的是，在1之后这部分的子数组是有序的，1之前的这个子数组也是有序的。有了这个想法，那么我们只需要找一个分割点使得左右两个子数组都有序就可以了。注意这里有一点特殊情况是，如果本来整体数组是排好序的，那我们从任意一点分割，两边的数组都是排序的，这显然并不代表我们任意一个点都是minimum。所以我们在写此算法是需要第一个考虑到这个边界条件。</p>\n<p>那么我们如何判断一个数组是否是排序的呢？其实我们只需要确保这个子数组的第一个元素是小于最后一个元素即可。我们可以将这个思路来generalize到binary search中：找一个中点<code class=\"language-text\">mid</code>，如果<code class=\"language-text\">mid</code>左边的子数组已排序而右数组未排序，那我们继续搜索右数组，反之亦然。如果左右数组都已排序，那我们就可以直接return <code class=\"language-text\">mid</code>。</p>\n<p>我们来看一下算法在C++中的实现：</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">findMin</span><span class=\"token punctuation\">(</span>vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span><span class=\"token operator\">&amp;</span> nums<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> \n            <span class=\"token keyword\">return</span> nums<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token keyword\">int</span> left <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> right <span class=\"token operator\">=</span> n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>right<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> nums<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> \n            <span class=\"token keyword\">return</span> nums<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>right <span class=\"token operator\">></span> left<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">int</span> mid <span class=\"token operator\">=</span> left <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>right <span class=\"token operator\">-</span> left<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n            \n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> nums<span class=\"token punctuation\">[</span>mid <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">return</span> nums<span class=\"token punctuation\">[</span>mid <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>mid <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">return</span> nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> nums<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                left <span class=\"token operator\">=</span> mid<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">else</span> \n                right <span class=\"token operator\">=</span> mid <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>以上算法使用iterative的解题思路。首先确认边界条件，然后进行binary search。前两个if确认当前<code class=\"language-text\">mid</code>是否为结果。这里注意的是我们有两种方式都可以确认我们已经找到了结果：如果<code class=\"language-text\">mid</code>大于<code class=\"language-text\">mid+1</code>，或者<code class=\"language-text\">mid-1</code>大于<code class=\"language-text\">mid</code>。这两个条件应该都不难理解。如果两个条件都不满足，我们依次进行二分搜索即可。</p>\n<p>除了iterative的方法之外，我们还可以用recursive的方法来解决这个问题。在确认整体数组是否有序这个边界条件之后，我们还是先找到数组的中点然后确认左右两边是否排序，然后找未排序一边的最小值即可。已排序过的一边我们不需要找最小值，因为我们可以确认最小值一定在未排序的一边。有这个思路以后我们的代码其实就很简单明了了。这里引用一下花花对这道题的讲义截图，应该能帮助理解recursive的解法：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/oddguan.io/static/efd87bb0891499d48b93915987b74f1e/d9199/huahuajiangyi.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABSklEQVQoz3WR6ZaDIAyFff83nDnFsVRRWQQLKli1czVdzpnl/lBMcsmXmN2f2rZNCMEvF8nytixKU47TtK3b+tYyTRNeL0v2OiFaFAXnPGcMt7i6vmrt+t5orZzUVo7jFFNEjz/MiKZ5Til1u2xvjHc2hHD1QRnZOTPCvXdeCAP1D7O1tmnatuJSNynNt0MISinNhddNGWN6sq/LssyHHuaqqsBciyoMgShijPx8Lr4K9vkh6spbGw8NY4hpus03MD7MzmG6HjmEqIg6YwCpVNtKI4RWqmkaqdvOdt6HvbP3HiGllNYaToSIDmZCwBPx9TggC+b3wjAVgLHeHfvQsbAORbjxdDrleY4gehhjGGOIoBhQWF6GHYL5egjkKKIDrQTZYRjwpIlgwCfOhLCb7VO4BQliJuzfIiIqzn7kMCTNfP9HSMGJ/w+Kb1YidzSmNU1LAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"huahuajiangyi\"\n        title=\"huahuajiangyi\"\n        src=\"/oddguan.io/static/efd87bb0891499d48b93915987b74f1e/fcda8/huahuajiangyi.png\"\n        srcset=\"/oddguan.io/static/efd87bb0891499d48b93915987b74f1e/12f09/huahuajiangyi.png 148w,\n/oddguan.io/static/efd87bb0891499d48b93915987b74f1e/e4a3f/huahuajiangyi.png 295w,\n/oddguan.io/static/efd87bb0891499d48b93915987b74f1e/fcda8/huahuajiangyi.png 590w,\n/oddguan.io/static/efd87bb0891499d48b93915987b74f1e/efc66/huahuajiangyi.png 885w,\n/oddguan.io/static/efd87bb0891499d48b93915987b74f1e/d9199/huahuajiangyi.png 960w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token comment\">// Author: Huahua</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">findMin</span><span class=\"token punctuation\">(</span>vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span> <span class=\"token operator\">&amp;</span>num<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">findMin</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    \n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">findMin</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span><span class=\"token operator\">&amp;</span> num<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> l<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> r<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Only 1 or 2 elements</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>l<span class=\"token operator\">+</span><span class=\"token number\">1</span> <span class=\"token operator\">>=</span> r<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">[</span>l<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token comment\">// Sorted</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">[</span>l<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> num<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> num<span class=\"token punctuation\">[</span>l<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token keyword\">int</span> mid <span class=\"token operator\">=</span> l <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>r<span class=\"token operator\">-</span>l<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span> \n        \n        <span class=\"token keyword\">return</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span><span class=\"token function\">findMin</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">,</span> l<span class=\"token punctuation\">,</span> mid<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n                   <span class=\"token function\">findMin</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">,</span> mid<span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>LeetCode 33: Search in Rotated Sorted Array</h3>\n<p>看完了153我们再来看33。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 508px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/oddguan.io/static/a47cd9e24f3783d27333b210ddd90aec/2fd48/%E6%8F%8F%E8%BF%B02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 102.02702702702702%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACmUlEQVQ4y6VU2Y7bQAzz//9ZH4r2oWiBzSbZnI7j+77DkvKx2S2KPtSAIM2MLVMUNc7dD7DdH7Db7XE6neh32Gw22G23jLd4eXnB4XCA67r4/Dwej9Uv5vR5iDo4oUxjREmKMIqR5zkC+ihOkGW5eT+M0PcD6qZBXpbo+v5DsuVx0FVAkzIc0Q0j+mGwA/meaz3j+EDb9eaVqGk7DOP4B1pDWFQ1gjhFSiR5Xhi6JOU6zWwdRhEColv2siyzPcVxkhB9jIKIl6SOHwTYvG5xvlxxuV5xPJ2x279hfzgyUYiqrlEUJcqyQs1Y67woUFWV7WUE0JCGNaFequsGdduiZFxW+qixvybkVOf6sGWZndEwUSH/uWzj0P5EU+k5P1yNqIQ+YnOENCWSlBQsltAKvjcy6aDkNEMYs4NXSuJ0vsC93eDd77hwrSTiyg8mL750prU41blsWof81mMVLRyRKy1OCWLjp+sH/Ot5lsrznqNyhTJl91SeeJN3PW9GGFgnY+4rXjr6tx84emFpfzQn1lqJ5VWexK1KTDo8V5PKcup8wv2Gpa4JpTV9pLKVwJDGE9KFQyWyMyWdpymyiSrg+f5HHSrRgTN8ubrWsf99HDVAM1xUk1QWyUgmkoUkIknJxGNhsiptFGVN162xtOlIxF++fsOvzSvOroc45WWQZLip8xGlIlmQ24jlXr07YvIpqxoOAq2araxbS+pI7Ytoax4IcTdPg+LFf44XVM9mCCWFaY7ddSb/i0PNscmFKIXQ/sa51RW1XFXyHfen887ifp3rd1O1jkj9/uMn3njLiCNfs0vuLrc77pST7YUxQl5xR1YSSp8zh89WzmAcIXg7ntmQm3W4JOJ2RlYLaTd7i/t3W/Zmq62SAb8BC9oKxC95mIAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"描述2\"\n        title=\"描述2\"\n        src=\"/oddguan.io/static/a47cd9e24f3783d27333b210ddd90aec/2fd48/%E6%8F%8F%E8%BF%B02.png\"\n        srcset=\"/oddguan.io/static/a47cd9e24f3783d27333b210ddd90aec/12f09/%E6%8F%8F%E8%BF%B02.png 148w,\n/oddguan.io/static/a47cd9e24f3783d27333b210ddd90aec/e4a3f/%E6%8F%8F%E8%BF%B02.png 295w,\n/oddguan.io/static/a47cd9e24f3783d27333b210ddd90aec/2fd48/%E6%8F%8F%E8%BF%B02.png 508w\"\n        sizes=\"(max-width: 508px) 100vw, 508px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>这题和上一题类似，还是给定一个rotated sorted array，让我们在这样的一个array里做search。时间复杂度需要达到<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>N</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(logN)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span>，所以同样还是需要我们用到binary search。那我们如何approach这个问题呢？首先，如果我们有153这道题的思路的话，我们的第一步是可以找到这个旋转的pivot的index在哪里。假设我们的给定数组是<code class=\"language-text\">[4,5,6,7,0,1]</code>，我们用153的算法可以找到<code class=\"language-text\">0</code>，也就是pivot的index在哪里，然后我们可以进行一个判断，确定寻找的target是在哪一个用pivot分开的区间内，再在特定区间内进行binary search即可。我们来看一下实现：</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">search</span><span class=\"token punctuation\">(</span>vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span><span class=\"token operator\">&amp;</span> nums<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> target<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">/* Do a binary search to find the pivot first,\n        then do binary search on either of the two \n        separated part of the vector */</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> \n            <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> \n            <span class=\"token keyword\">return</span> nums<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> target <span class=\"token operator\">?</span> <span class=\"token number\">0</span> <span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token keyword\">int</span> pivot <span class=\"token operator\">=</span> <span class=\"token function\">findPivot</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pivot <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">/* whole array is sorted */</span>\n            result <span class=\"token operator\">=</span> <span class=\"token function\">rangeBinarySearch</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> target<span class=\"token punctuation\">)</span> <span class=\"token comment\">/* second half is sorted */</span>\n            result <span class=\"token operator\">=</span> <span class=\"token function\">rangeBinarySearch</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">,</span> pivot<span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">else</span> <span class=\"token comment\">/* first half is sorted */</span>\n            result <span class=\"token operator\">=</span> <span class=\"token function\">rangeBinarySearch</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> pivot<span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">findPivot</span><span class=\"token punctuation\">(</span>vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span><span class=\"token operator\">&amp;</span> nums<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">int</span> left <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> right <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">[</span>right<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>left <span class=\"token operator\">&lt;</span> right<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">int</span> mid <span class=\"token operator\">=</span> left <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>right <span class=\"token operator\">-</span> left<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> nums<span class=\"token punctuation\">[</span>mid <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">return</span> mid <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">[</span>mid <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">return</span> mid<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> nums<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                left <span class=\"token operator\">=</span> mid<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">else</span> \n                right <span class=\"token operator\">=</span> mid <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">rangeBinarySearch</span><span class=\"token punctuation\">(</span>vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span><span class=\"token operator\">&amp;</span> nums<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> begin<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> end<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> target<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>begin <span class=\"token operator\">&lt;</span> end<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">int</span> m <span class=\"token operator\">=</span> begin <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>end <span class=\"token operator\">-</span> begin<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>m<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> target<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">return</span> m<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>m<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> target<span class=\"token punctuation\">)</span>\n                end <span class=\"token operator\">=</span> m<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">else</span>\n                begin <span class=\"token operator\">=</span> m <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>我自己写的时候出了很多边界条件的问题，写binary search的问题还是不太熟练。。需要多加练习。</p>\n<h3>Generalized Binary Search Algorithm</h3>\n<p>所有的binary search题目都可以用以下模板来修改。我用的是一个左闭右开的方法，也就是和python中的list slicing类似。</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">int</span> <span class=\"token function\">binary_search</span><span class=\"token punctuation\">(</span>vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span><span class=\"token operator\">&amp;</span> nums<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> target<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> left <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> right <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>left <span class=\"token operator\">&lt;</span> right<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">int</span> mid <span class=\"token operator\">=</span> left <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>right <span class=\"token operator\">-</span> left<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> target<span class=\"token punctuation\">)</span> \n            <span class=\"token keyword\">return</span> mid<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>mid<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> target<span class=\"token punctuation\">)</span> \n            right <span class=\"token operator\">=</span> mid<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">else</span>\n            left <span class=\"token operator\">=</span> mid <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"LeetCode 33 & 153: Search in Rotated Sorted Array / Find Minimum in Rotated Sorted Array","date":"April 27, 2019","description":"两道相辅相成的medium难度LeetCode题目。"}}},"pageContext":{"slug":"/leetcode33/","previous":{"fields":{"slug":"/leetcode146/"},"frontmatter":{"title":"LeetCode 146: LRU Cache"}},"next":{"fields":{"slug":"/leetcode46/"},"frontmatter":{"title":"LeetCode 46: Permutations"}}}}}