{"componentChunkName":"component---src-templates-blog-post-js","path":"/leetcode31/","result":{"data":{"site":{"siteMetadata":{"title":"Chenxiao's Blog","author":"Chenxiao Guan"}},"markdownRemark":{"id":"41e8db07-d3a9-5bce-bddf-6992250c8d63","excerpt":"看题目描述之前先来观赏一下我的提交记录。。。。。。  最后实在是处理不懂edge cases了所以看了答案。真的是崩溃。疯狂下拉这个号的正确率。。。 我们来看一下题目描述：  在C++中有一个builtin就叫next_permutation…","html":"<p>看题目描述之前先来观赏一下我的提交记录。。。。。。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3390d5bfd7e70db568afbc213055f960/2bef9/record.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 108.1081081081081%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAACc0lEQVQ4y42U646rMAyEef+nPD96Ly29QIGENmc+i0Ho7J7VRrISnGQ8HjtU5Zvxfr+X9efzWWzt+9+oHo9HOR6PYZvNpvDNqOu6HA6H5TJBzudz+MZxLE3TxPm+78swDLFmr0ophQNjM+cclwetUz+AVKZpCr/P+M7r9Yo1e6zbti0VkcwQ2+/3sVF3bfnTXMr21gQjgGD4fD4D4H6/l+12Gxmxvl6vEbjyYRuRwpfG0o5ioZmDSSDsswcgs89iMMZfcQj0y+Wy6MeYxCyfTyXX55LFAC1vt1uAM2AFCANgmEdRrAVmDbGEVmiEj+jSKvY1A8o9mHmNRcqwOp1Ood9B+qEpQndi16py3fFQ2t0uisS5rutiny6AJcFhTob4o8prDdPMAFZJl7NYZpjJ5wzWDOkI6xgMSRUNicLMNyPrO4lFUuRJ+lhDABlkRoAvGrpapIINM4tR61Ht4xnmrqr7zpV1dlFlkOkv64gutEin6rbqs06+Ti9gmPsQIC66K0jTfbho6D7C+EaXCSYCmajeXMFh1sm6AYwUxsAffUgEqrvWMEmvUawTkcXmLaBfaeg3aB1dabQbrCEmBt08W0+fXXdIBTv0Qx9rGKJf6tLttuVF76Gh0q7F1BqSDazWGkZR/AexhqELGqIfJoD3rCtgAKCbGYU8mjH8oSHafOlDaYR2SdpmMQHQfxoGMn37lhGXghjUT6vXz+ElwF6+vrlG27BvZqQJKAGYAQwNAVgzZJM+HKgigArWy08xXFlAAOCuAdkLDaFLNByY04iUSZeD91u0jRv535Rdh+X35WdHVL4Rl4LkhyoOC13+qSj+BTL+AgOYrHk8kUJPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"record\"\n        title=\"record\"\n        src=\"/static/3390d5bfd7e70db568afbc213055f960/fcda8/record.png\"\n        srcset=\"/static/3390d5bfd7e70db568afbc213055f960/12f09/record.png 148w,\n/static/3390d5bfd7e70db568afbc213055f960/e4a3f/record.png 295w,\n/static/3390d5bfd7e70db568afbc213055f960/fcda8/record.png 590w,\n/static/3390d5bfd7e70db568afbc213055f960/efc66/record.png 885w,\n/static/3390d5bfd7e70db568afbc213055f960/2bef9/record.png 1024w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>最后实在是处理不懂edge cases了所以看了答案。真的是崩溃。疯狂下拉这个号的正确率。。。</p>\n<p>我们来看一下题目描述：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c815c8eb7cea836e5543baeaa205dda1/84a90/%E6%8F%8F%E8%BF%B0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB9UlEQVQ4y51Ti47aMBDM//9e1erCEUICB+RlO86DECDbmYWgtLoKqZYmXq/t3cnsOkj2B/lcR7KJIonjWFarUMIwlMswyLsxTRO/Os8IxmwtY2ul6c5SWSdN2ykqV8twGYGLeKzrppXr7SZt14vzjYzX6yvotEgSyODhveHwXW7APHj5fr8reJngxcs4ArCnP5m+GBrnxSO7c06KspK8KKUAsiyXBv5WGbfiwcrVtXRgqDb+wOIOcV2wDT7ClcTbBDpu5GP1KesIOkLTHz9/SZLuZAtssM8zcZLqvN7EmqTre8X0pKsBmZFMOBPn8yB9f1Zw3XYdfFgD3FPW8I3jQ4YREgwo4Bw0YNbjKVMmxOF4UnwdjrLbfym7LC/U5jnaeVGoPLSzPFc/tdaAdNqnHr5ppIY+ZVWpbayVyhgxxmoAsnw3Al5iIcrKKBicPlN7KVCwCjP9LIh9Fo4kOBdlqQlPKKBFy6mGDhfqZwWVIdYMStHtc49+VvVx1qvNpFwb+/gzVloDRqjYXMlkt5co3gp91GwLfbdpKin8tGdN+Udk6zS506K8qsyKkRX7jf04twMry1fCfaLvH13A/Rua/vtnCA2tb/U5tWgT6rV8Ae/e8RIvhrlx+k4dcCqNPrnvLvwrwPQXg4DM2A49dPBgel8c/p/xG1TohMQP1stqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"描述\"\n        title=\"描述\"\n        src=\"/static/c815c8eb7cea836e5543baeaa205dda1/fcda8/%E6%8F%8F%E8%BF%B0.png\"\n        srcset=\"/static/c815c8eb7cea836e5543baeaa205dda1/12f09/%E6%8F%8F%E8%BF%B0.png 148w,\n/static/c815c8eb7cea836e5543baeaa205dda1/e4a3f/%E6%8F%8F%E8%BF%B0.png 295w,\n/static/c815c8eb7cea836e5543baeaa205dda1/fcda8/%E6%8F%8F%E8%BF%B0.png 590w,\n/static/c815c8eb7cea836e5543baeaa205dda1/efc66/%E6%8F%8F%E8%BF%B0.png 885w,\n/static/c815c8eb7cea836e5543baeaa205dda1/84a90/%E6%8F%8F%E8%BF%B0.png 982w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>在C++中有一个builtin就叫next_permutation，这题就是想让我们重新实现这个函数。</p>\n<p>其实不难看出，这道题至少需要我们找出我们需要改变的第一个\b数字在哪里：比如我们的input是<code class=\"language-text\">1,3,2</code>，那么下一个需要改变的数字就是<code class=\"language-text\">1</code>，因为下一个lexicographical的permutation是<code class=\"language-text\">2,1,3</code>。那我们怎么定位到<code class=\"language-text\">1</code>呢？可以从数组的倒数第二个开始向前遍历，如果当前数字大于或者等于下一个数字，那我们就向前遍历一个数字，直到当前数字比下一个数字小为止。</p>\n<p>找到上一个例子中的<code class=\"language-text\">1</code>以后，我们需要将这个元素与之后的其中一个元素交换。那么是哪一个数字呢？我之前想的是最后一个数字，但其实应该是在<code class=\"language-text\">1</code>之后刚刚好比<code class=\"language-text\">1</code>大的那个数字。比如我们的input数组是<code class=\"language-text\">5,4,7,5,3,2</code>，我们首先有一个<code class=\"language-text\">i</code> counter遍历至<code class=\"language-text\">4</code>，然后应该有一个<code class=\"language-text\">j</code> counter从末尾一直遍历到<code class=\"language-text\">5</code>，也就是第一个比<code class=\"language-text\">4</code>大的数字，然后将他们两个交换。最后，我们需要sort <code class=\"language-text\">i</code>之后的所有数字。这里我们发现，其实sort和reverse并没有任何区别，所以两者皆可。我们来看一下c++中这道题目的实现：</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">nextPermutation</span><span class=\"token punctuation\">(</span>vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span><span class=\"token operator\">&amp;</span> nums<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> n <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">>=</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> nums<span class=\"token punctuation\">[</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;=</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">--</span>i<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">>=</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> nums<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;=</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">--</span>j<span class=\"token punctuation\">;</span>\n            <span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">sort</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">.</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>最后的sort可以改成reverse。达到的效果是一样的，但是可能理论上reverse会更快一些（虽然leetcode提交以后runtime都是打败100%）。</p>\n<h3>总结</h3>\n<p>这道题真的是纠结了一辈子。。其实就只是最后有一点没想明白，就是其实在找到<code class=\"language-text\">i</code>以后，应该和<code class=\"language-text\">i</code>之后的数组中的第一个比<code class=\"language-text\">i</code>大的数字交换，而不是单纯的最后一个。因为这一点没想明白，导致走上了歪路，一直在解决解决不完的边界条件。。也是醉了。希望以后自己能稍微对这些边界条件敏感一些。</p>","frontmatter":{"title":"LeetCode 31: Next Permutation","date":"April 22, 2019","description":"一道做到吐血的简单题。"}}},"pageContext":{"slug":"/leetcode31/","previous":{"fields":{"slug":"/leetcode25/"},"frontmatter":{"title":"LeetCode 25: Reverse Nodes in k-Group"}},"next":{"fields":{"slug":"/leetcode146/"},"frontmatter":{"title":"LeetCode 146: LRU Cache"}}}}}