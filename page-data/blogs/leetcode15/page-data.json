{"componentChunkName":"component---src-templates-blog-post-js","path":"/blogs/leetcode15/","result":{"data":{"site":{"siteMetadata":{"title":"Chenxiao's Blog","author":"Chenxiao Guan"}},"markdownRemark":{"id":"09d13cf8-2aea-58e7-8c24-74952acbc44f","excerpt":"这是一道被Leetcode标为Medium的题目，让我们先来看一下题目描述：  这道题的点赞之多也是把我吓到了。。 其实看到这个名字就不难想到，这题应该就只是一个2Sum的升级版而已，所以我们的思路\n也可用从解决2Sum开始，然后看看怎么再进一步解决3Sum。\n大家都知道2Sum的最经典的解决方法就是…","html":"<p>这是一道被Leetcode标为Medium的题目，让我们先来看一下题目描述：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5edb3585d1f81513bdf413cda0fb0608/87254/%E6%8F%8F%E8%BF%B0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABe0lEQVQ4y6VTiVKDMBDl/79Ra8shVa5whRzAc3cLjBapOmbmzSZL3tsjS9A2DcLwgjiOMc/zvxHMWmFurvDeoel6GGuhjcFgLJz3aHstPkbb9xjHEY9W4B0R7UCCXgQ8ERjWuZuPLO/FkigLCqZJ7hsOvNydyBeoukaUvOISRQjjhPYp2RhPpxMuYUT+GKfzBc8vZ7FRkiC9viFOryjKCmVVoaa2aa0lUNB1HRhc/5oRR+aPHHHNxi+ZuU+ZM2dXcqWURFovrwS7lChY9hzgfu0epaNGJ2mK9yxDXTcivtqiLJEXhZSV5Tn1y+xEdhly/dxDPQz4zfpxbLhfpaoFRVUjK0oZHz5XlKlqWjmzrdsOll/WOhj3FQP5uM+BdSRIxFI1qIjE4Nnr9LChH8xtT5aJ2thv4bwIOrzlhWSWV0qykgGnQEy+BxOP/CLoxwmKSsn4EUiQM2GxI+IRNsGth/yyZBsq96ikR+hXwXVop2mmASaM0/b7/RU8px/3F0NsjUMm4gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"描述\"\n        title=\"描述\"\n        src=\"/static/5edb3585d1f81513bdf413cda0fb0608/fcda8/%E6%8F%8F%E8%BF%B0.png\"\n        srcset=\"/static/5edb3585d1f81513bdf413cda0fb0608/12f09/%E6%8F%8F%E8%BF%B0.png 148w,\n/static/5edb3585d1f81513bdf413cda0fb0608/e4a3f/%E6%8F%8F%E8%BF%B0.png 295w,\n/static/5edb3585d1f81513bdf413cda0fb0608/fcda8/%E6%8F%8F%E8%BF%B0.png 590w,\n/static/5edb3585d1f81513bdf413cda0fb0608/87254/%E6%8F%8F%E8%BF%B0.png 604w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>这道题的点赞之多也是把我吓到了。。</p>\n<p>其实看到这个名字就不难想到，这题应该就只是一个2Sum的升级版而已，所以我们的思路\n也可用从解决2Sum开始，然后看看怎么再进一步解决3Sum。\n大家都知道2Sum的最经典的解决方法就是2 Pointers了。除此之外的另一个解法是，\n如果given list中不存在duplicate values，那我们可以将所有的element放入一个HashSet中，\n这样就可以使找value的时间复杂度降低为O(1)。不过这一题当然不是这种情况啦。</p>\n<p>我们先从brute force想起，找到一个给定数组中是否存在三个数字使得他们的和为0，那么很显然\n这是一个用O(<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>N</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">N^3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span></span></span>)时间复杂度可以解决的问题。但是很明显的是面试官肯定不会想要你这样的答案。。\n那么我们可以从什么角度进行优化呢？\n正如如上所提到的，我们可以将这个问题简化为2Sum。2 Pointers的第一步当然就是给这个数组排序，\n然后再进行依次查找。所以我们的大框架是一个for loop来遍历整个数组，而在每一次循环之内都寻找\n一对数字来使得当前数字以及这一对数字的和为0。有了这个思路以后，整个问题的代码应该就很明显了。\n我们来看一下这题在C++中的实现：</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    vector<span class=\"token operator\">&lt;</span>vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">>></span> <span class=\"token function\">threeSum</span><span class=\"token punctuation\">(</span>vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span><span class=\"token operator\">&amp;</span> nums<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        vector<span class=\"token operator\">&lt;</span>vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">>></span> res<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">sort</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">.</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> <span class=\"token operator\">++</span>i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">int</span> low <span class=\"token operator\">=</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> \n            <span class=\"token keyword\">int</span> high <span class=\"token operator\">=</span> n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>low <span class=\"token operator\">&lt;</span> high<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">int</span> sum <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span>low<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> nums<span class=\"token punctuation\">[</span>high<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sum <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span> v <span class=\"token punctuation\">{</span>nums<span class=\"token punctuation\">[</span>low<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">[</span>high<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n                    res<span class=\"token punctuation\">.</span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">int</span> lowValue <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span>low<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>low <span class=\"token operator\">&lt;</span> n <span class=\"token operator\">&amp;&amp;</span> nums<span class=\"token punctuation\">[</span>low<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> lowValue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token operator\">++</span>low<span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token keyword\">int</span> highValue <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span>high<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>high <span class=\"token operator\">></span> low <span class=\"token operator\">&amp;&amp;</span> nums<span class=\"token punctuation\">[</span>high<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> highValue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token operator\">--</span>high<span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sum <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token operator\">--</span>high<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token operator\">++</span>low<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token operator\">&lt;</span> n <span class=\"token operator\">&amp;&amp;</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> nums<span class=\"token punctuation\">[</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token operator\">++</span>i<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>整体代码应该并不难理解，但是有一个需要注意的地方：</p>\n<p>这一题的要求是，最终solution set中的每一个triplets都不能与其他triplets重复，那我们要\n如何实现这个要求呢？因为我们的数组是进行过排序的，所以我们只要在移动三个pointers的时候，\n跳过下一个与目前数值重复的数值就可以了。这一步在如上代码中的三个while loop里实现。</p>\n<p>这个解法的时间复杂度为O(<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>N</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>N</mi><mo>+</mo><msup><mi>N</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">NlogN + N^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span>) = O(N^2)，空间复杂度为O(1)（当然是在不考虑最终解的数组情况下）。</p>\n<h3 id=\"总结\" style=\"position:relative;\"><a href=\"#%E6%80%BB%E7%BB%93\" aria-label=\"总结 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>总结</h3>\n<p>这题如果做过2Sum并理解各种算法的话，做起来应该是没什么问题的。如果能想到2 pointers，那么第一步\n一定是将数组排序，然后分别向数组中间移动。</p>","frontmatter":{"title":"LeetCode 15: 3Sum","date":"April 14, 2019","description":"LeetCode经典题目2Sum的升级版3Sum"}}},"pageContext":{"slug":"/leetcode15/","previous":{"fields":{"slug":"/leetcode12/"},"frontmatter":{"title":"LeetCode 12 / 13: Integer to Roman & Roman to Integer"}},"next":{"fields":{"slug":"/leetcode22/"},"frontmatter":{"title":"LeetCode 17 & 22: 两道Medium DFS題目"}}}}}